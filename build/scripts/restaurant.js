$(document).ready(function(){!function(){"use strict";function e(e,t,a,n){function i(e,t){for(var a=0;a<e.length;a++){var n=e[a];t(n,a)}}function r(e){o(e),s(e),l(e)}function o(e){e.addEventListener("mouseover",function(t){i(u,function(t,a){a<=parseInt(e.getAttribute("data-index"))?t.classList.add("is-active"):t.classList.remove("is-active")})})}function s(e){e.addEventListener("mouseout",function(e){-1===u.indexOf(e.relatedTarget)&&c(null,!1)})}function l(e){e.addEventListener("click",function(t){t.preventDefault(),c(parseInt(e.getAttribute("data-index"))+1,!0)})}function c(e,r){e&&0>e||e>a||(void 0===r&&(r=!0),t=e||t,i(u,function(e,a){t>a?e.classList.add("is-active"):e.classList.remove("is-active")}),n&&r&&n(d()))}function d(){return t}var u=[];return function(){if(!e)throw Error("No element supplied.");if(!a)throw Error("No max rating supplied.");if(t||(t=0),0>t||t>a)throw Error("Current rating is out of bounds.");for(var n=0;a>n;n++){var i=document.createElement("li");i.classList.add("c-rating__item"),i.setAttribute("data-index",n),t>n&&i.classList.add("is-active"),e.appendChild(i),u.push(i),r(i)}}(),{setRating:c,getRating:d}}window.rating=e}();var e;document.querySelector("#el");$("#input-id").on("rating.change",function(t,a,n,i){console.log(a),e=a});var t=location.pathname.split("/")[2];console.log(t);var a=new Firebase("https://restaurant-review-1.firebaseio.com/restaurant/"+t);a.on("value",function(e){console.log(e.val()),$(".title").append(e.val().name.charAt(0).toUpperCase()+e.val().name.slice(1)),$("tbody").append("<tr><td><img src="+e.val().image+" class='img-responsive' alt='Image of "+e.val().name+"'></td><td><a href=/restaurant/"+e.key()+">"+e.val().name+"</a></td><td>"+e.val().cuisineType+"</td><td>"+e.val().address+"</td><td>"+e.val().openTime+"</td><td>"+e.val().closeTime+"</td></tr>")},function(e){console.log("The read failed: "+e.code)});var n=new Firebase("https://restaurant-review-1.firebaseio.com/reviews/"+t);$("#createReviewButton").click(function(e){e.preventDefault();var t=$("input[name=rating]:checked").val(),a=$("#reviewAuthor").val(),i=$("#review").val(),r=$("#reviewDate").val(),o=t;console.log(name+i+o),n.push({author:a,review:i,date:r,rating:o}),location.reload()}),n.once("value",function(e){e.forEach(function(e){console.log(e.key()),$("#reviewParagraph").append('<input id="'+e.key()+'" value="'+e.val().rating+'" class="rating rating-loading"><br><br>'+e.val().date+"    -  "+e.val().author+" says "+e.val().review+"<br><br><br>"),$("#"+e.key()).rating({displayOnly:!0,step:.5,size:"xs"})})})});